# =================================================
# GTM CONFIG - Fichier Généré
# google-setup-cli
# =================================================
#
# AUTO-GÉNÉRÉ - NE PAS MODIFIER MANUELLEMENT
#
# Source: tracking-events.yaml
# Commande: google-setup generate-tracking
#
# Pour modifier, éditez tracking-events.yaml
# puis relancez la génération.
#
# =================================================

# Généré depuis: tracking-events.yaml
# Date: 2024-12-30
# Events: 56

project:
  name: "{{PROJECT_NAME}}"
  gtm_container_id: "{{GTM_CONTAINER_ID}}"
  ga4_measurement_id: "{{GA4_MEASUREMENT_ID}}"

# ============================================
# VARIABLES GTM
# ============================================
variables:
  - name: "Constant - GA4 Measurement ID"
    type: "constant"
    value: "{{GA4_MEASUREMENT_ID}}"

  - name: "dlv - element_id"
    type: "data_layer"
    data_layer_name: "element_id"

  - name: "dlv - page_section"
    type: "data_layer"
    data_layer_name: "page_section"

  - name: "dlv - page_path"
    type: "data_layer"
    data_layer_name: "page_path"

# ============================================
# TRIGGERS GTM
# ============================================
triggers:
  - name: "All Pages"
    type: "pageview"

  # --- CONVERSIONS ---
  - name: "CE - form_submit"
    type: "custom_event"
    event_name: "form_submit"

  - name: "CE - form_quote"
    type: "custom_event"
    event_name: "form_quote"

  - name: "CE - form_callback"
    type: "custom_event"
    event_name: "form_callback"

  - name: "CE - phone_click"
    type: "custom_event"
    event_name: "phone_click"

  - name: "CE - email_click"
    type: "custom_event"
    event_name: "email_click"

  - name: "CE - whatsapp_click"
    type: "custom_event"
    event_name: "whatsapp_click"

  - name: "CE - booking_click"
    type: "custom_event"
    event_name: "booking_click"

  - name: "CE - appointment_click"
    type: "custom_event"
    event_name: "appointment_click"

  # --- LEADS ---
  - name: "CE - newsletter_submit"
    type: "custom_event"
    event_name: "newsletter_submit"

  - name: "CE - download_pdf"
    type: "custom_event"
    event_name: "download_pdf"

  - name: "CE - download_doc"
    type: "custom_event"
    event_name: "download_doc"

  - name: "CE - download_file"
    type: "custom_event"
    event_name: "download_file"

  - name: "CE - demo_request"
    type: "custom_event"
    event_name: "demo_request"

  - name: "CE - trial_start"
    type: "custom_event"
    event_name: "trial_start"

  - name: "CE - catalog_request"
    type: "custom_event"
    event_name: "catalog_request"

  # --- ENGAGEMENT ---
  - name: "CE - cta_primary"
    type: "custom_event"
    event_name: "cta_primary"

  - name: "CE - cta_secondary"
    type: "custom_event"
    event_name: "cta_secondary"

  - name: "CE - cta_tertiary"
    type: "custom_event"
    event_name: "cta_tertiary"

  - name: "CE - video_play"
    type: "custom_event"
    event_name: "video_play"

  - name: "CE - accordion_open"
    type: "custom_event"
    event_name: "accordion_open"

  - name: "CE - tab_click"
    type: "custom_event"
    event_name: "tab_click"

  - name: "CE - modal_open"
    type: "custom_event"
    event_name: "modal_open"

  - name: "CE - gallery_click"
    type: "custom_event"
    event_name: "gallery_click"

  - name: "CE - testimonial_click"
    type: "custom_event"
    event_name: "testimonial_click"

  - name: "CE - map_click"
    type: "custom_event"
    event_name: "map_click"

  - name: "CE - share_facebook"
    type: "custom_event"
    event_name: "share_facebook"

  - name: "CE - share_linkedin"
    type: "custom_event"
    event_name: "share_linkedin"

  - name: "CE - share_twitter"
    type: "custom_event"
    event_name: "share_twitter"

  - name: "CE - share_email"
    type: "custom_event"
    event_name: "share_email"

  - name: "CE - search_submit"
    type: "custom_event"
    event_name: "search_submit"

  - name: "CE - filter_change"
    type: "custom_event"
    event_name: "filter_change"

  - name: "CE - scroll_25"
    type: "custom_event"
    event_name: "scroll_25"

  - name: "CE - scroll_50"
    type: "custom_event"
    event_name: "scroll_50"

  - name: "CE - scroll_75"
    type: "custom_event"
    event_name: "scroll_75"

  - name: "CE - scroll_100"
    type: "custom_event"
    event_name: "scroll_100"

  - name: "CE - read_30s"
    type: "custom_event"
    event_name: "read_30s"

  - name: "CE - read_60s"
    type: "custom_event"
    event_name: "read_60s"

  - name: "CE - read_120s"
    type: "custom_event"
    event_name: "read_120s"

  - name: "CE - cookie_accept"
    type: "custom_event"
    event_name: "cookie_accept"

  - name: "CE - cookie_reject"
    type: "custom_event"
    event_name: "cookie_reject"

  - name: "CE - cookie_customize"
    type: "custom_event"
    event_name: "cookie_customize"

  - name: "CE - cookie_save"
    type: "custom_event"
    event_name: "cookie_save"

  - name: "CE - privacy_policy"
    type: "custom_event"
    event_name: "privacy_policy"

  - name: "CE - terms_click"
    type: "custom_event"
    event_name: "terms_click"

  # --- NAVIGATION ---
  - name: "CE - menu_click"
    type: "custom_event"
    event_name: "menu_click"

  - name: "CE - logo_click"
    type: "custom_event"
    event_name: "logo_click"

  - name: "CE - footer_link"
    type: "custom_event"
    event_name: "footer_link"

  - name: "CE - breadcrumb_click"
    type: "custom_event"
    event_name: "breadcrumb_click"

  - name: "CE - pagination_click"
    type: "custom_event"
    event_name: "pagination_click"

  - name: "CE - back_to_top"
    type: "custom_event"
    event_name: "back_to_top"

  - name: "CE - language_switch"
    type: "custom_event"
    event_name: "language_switch"

  - name: "CE - outbound_click"
    type: "custom_event"
    event_name: "outbound_click"

  - name: "CE - social_link"
    type: "custom_event"
    event_name: "social_link"

  - name: "CE - error_404"
    type: "custom_event"
    event_name: "error_404"

  - name: "CE - error_form"
    type: "custom_event"
    event_name: "error_form"

  - name: "CE - search_no_results"
    type: "custom_event"
    event_name: "search_no_results"

  - name: "CE - error_page"
    type: "custom_event"
    event_name: "error_page"

# ============================================
# BALISES GA4
# ============================================
tags:
  - name: "GA4 - Config"
    type: "ga4_configuration"
    measurement_id: "{{Constant - GA4 Measurement ID}}"
    triggers:
      - "All Pages"

  - name: "GA4 Event - Conversions"
    type: "ga4_event"
    configuration_tag: "GA4 - Config"
    event_parameters:
      - name: "element_id"
        value: "{{dlv - element_id}}"
      - name: "page_section"
        value: "{{dlv - page_section}}"
      - name: "page_path"
        value: "{{dlv - page_path}}"
    triggers:
      - "CE - form_submit"
      - "CE - form_quote"
      - "CE - form_callback"
      - "CE - phone_click"
      - "CE - email_click"
      - "CE - whatsapp_click"
      - "CE - booking_click"
      - "CE - appointment_click"

  - name: "GA4 Event - Leads"
    type: "ga4_event"
    configuration_tag: "GA4 - Config"
    event_parameters:
      - name: "element_id"
        value: "{{dlv - element_id}}"
      - name: "page_section"
        value: "{{dlv - page_section}}"
      - name: "page_path"
        value: "{{dlv - page_path}}"
    triggers:
      - "CE - newsletter_submit"
      - "CE - download_pdf"
      - "CE - download_doc"
      - "CE - download_file"
      - "CE - demo_request"
      - "CE - trial_start"
      - "CE - catalog_request"

  - name: "GA4 Event - Engagement"
    type: "ga4_event"
    configuration_tag: "GA4 - Config"
    event_parameters:
      - name: "element_id"
        value: "{{dlv - element_id}}"
      - name: "page_section"
        value: "{{dlv - page_section}}"
      - name: "page_path"
        value: "{{dlv - page_path}}"
    triggers:
      - "CE - cta_primary"
      - "CE - cta_secondary"
      - "CE - cta_tertiary"
      - "CE - video_play"
      - "CE - accordion_open"
      - "CE - tab_click"
      - "CE - modal_open"
      - "CE - gallery_click"
      - "CE - testimonial_click"
      - "CE - map_click"
      - "CE - share_facebook"
      - "CE - share_linkedin"
      - "CE - share_twitter"
      - "CE - share_email"
      - "CE - search_submit"
      - "CE - filter_change"
      - "CE - scroll_25"
      - "CE - scroll_50"
      - "CE - scroll_75"
      - "CE - scroll_100"
      - "CE - read_30s"
      - "CE - read_60s"
      - "CE - read_120s"
      - "CE - cookie_accept"
      - "CE - cookie_reject"
      - "CE - cookie_customize"
      - "CE - cookie_save"
      - "CE - privacy_policy"
      - "CE - terms_click"

  - name: "GA4 Event - Navigation"
    type: "ga4_event"
    configuration_tag: "GA4 - Config"
    event_parameters:
      - name: "element_id"
        value: "{{dlv - element_id}}"
      - name: "page_section"
        value: "{{dlv - page_path}}"
      - name: "page_path"
        value: "{{dlv - page_path}}"
    triggers:
      - "CE - menu_click"
      - "CE - logo_click"
      - "CE - footer_link"
      - "CE - breadcrumb_click"
      - "CE - pagination_click"
      - "CE - back_to_top"
      - "CE - language_switch"
      - "CE - outbound_click"
      - "CE - social_link"
      - "CE - error_404"
      - "CE - error_form"
      - "CE - search_no_results"
      - "CE - error_page"

# ============================================
# BALISES TIERCES
# ============================================
  - name: "Contentsquare (Hotjar) - Tracking Code"
    type: "html"
    third_party_id: "{{CONTENTSQUARE_TAG_ID}}"
    html: |
      <!-- Contentsquare (ex-Hotjar) -->
      <script>
      (function () {
        window._uxa = window._uxa || [];
        if (typeof CS_CONF === "undefined") {
          window._uxa.push([
            "setPath",
            window.location.pathname + window.location.hash.replace("#", "?__")
          ]);
          var mt = document.createElement("script");
          mt.type = "text/javascript";
          mt.async = true;
          mt.src = "//t.contentsquare.net/uxa/{{CONTENTSQUARE_TAG_ID}}.js";
          document.getElementsByTagName("head")[0].appendChild(mt);
        } else {
          window._uxa.push([
            "trackPageview",
            window.location.pathname + window.location.hash.replace("#", "?__")
          ]);
        }
      })();
      </script>
    triggers:
      - "All Pages"

  - name: "Meta Pixel - Tracking Code"
    type: "html"
    third_party_id: "{{META_PIXEL_ID}}"
    html: |
      <!-- Meta Pixel -->
      <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window,document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '{{META_PIXEL_ID}}');
      fbq('track', 'PageView');
      </script>
      <noscript><img height="1" width="1" style="display:none"
      src="https://www.facebook.com/tr?id={{META_PIXEL_ID}}&ev=PageView&noscript=1"/></noscript>
    triggers:
      - "All Pages"

# ============================================
# RÉSUMÉ
# ============================================
# Variables: 4 (1 constante + 3 DLV)
# Triggers: 57 (1 pageview + 56 custom events)
# Tags: 7 (1 Config + 4 Event + 2 Third-party)
# ============================================
